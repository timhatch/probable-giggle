<html>
	<head>
	</head>
	<body>
		<div onClick="func()">&nbsp;Click Me&nbsp;</div>
		<script>
			function func(){
				var data = [
							{ "one": "text1", "two": 1, "three": '{"p1":"t1"}' },
							{ "one": "text2", "two": 2, "three": null },
							{ "one": "text3", "two": 3, "three": "" }
						]
					, fields = Object.keys(data[0])
				  , csv    = data.map(function(row) {
							return fields.map(function(f) { return row[f] })
						})
					
				csv.unshift(fields)
				window.open( "data:text/csv;charset=utf-8," + encodeURI(csv.join('\r\n')))
			}
		</script>
	</body>
</html>